108-2 大數據分析方法 作業一
================
張翔

搞不清楚各行各業的薪資差異嗎? 念研究所到底對第一份工作的薪資影響有多大? CP值高嗎? 透過分析**初任人員平均經常性薪資**-
（107年）<https://data.gov.tw/dataset/6647>
（104-105年）<http://ipgod.nchc.org.tw/dataset/a17000000j-020066>
，可初步了解台灣近幾年各行各業、各學歷的起薪。

## 比較104年度和107年度大學畢業者的薪資資料

### 資料匯入與處理

``` r
library(jsonlite)
library(readr)
library(dplyr)
```

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

``` r
url104<-"http://ipgod.nchc.org.tw/dataset/b6f36b72-0c4a-4b60-9254-1904e180ddb1/resource/98d5094d-7481-44b5-876a-715a496f922c/download/a17000000j-020066-mah.csv"
url107<-"C:/Users/SAMUEL/Desktop/4133da254dbcdba28a2097de48d8d606_csv/job107.csv"

job104 <- read_csv(url104)
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
job107 <- read_csv(url107)
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_character(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所-薪資` = col_character(),
    ##   `研究所-女/男` = col_character()
    ## )

``` r
#更改兩表不同的職業別名
job104$大職業別<-gsub("部門","",job104$大職業別)
job107$大職業別<-gsub("_","、",job107$大職業別)
job104$大職業別<-gsub("營造業","營建工程",job104$大職業別)
job107$大職業別<-gsub("出版、影音製作、傳播及資通訊服務業","資訊及通訊傳播業",
                  job107$大職業別)
job107$大職業別<-gsub("教育業","教育服務業",job107$大職業別)
job107$大職業別<-gsub("醫療保健業","醫療保健服務業",job107$大職業別)
job107$`大學-薪資`<-gsub("—","",job107$`大學-薪資`)
job104$`大學-薪資`<-gsub("—","",job104$`大學-薪資`)
job107$`大學-薪資`<-gsub("…","",job107$`大學-薪資`)
job104$`大學-女/男`<-gsub("—","",job104$`大學-女/男`)
job107$`大學-女/男`<-gsub("—","",job107$`大學-女/男`)
job104$`大學-女/男`<-gsub("…","",job104$`大學-女/男`)
job107$`大學-女/男`<-gsub("…","",job107$`大學-女/男`)
job107$`研究所-薪資`<-gsub("—","",job107$`研究所-薪資`)
job107$`研究所-薪資`<-gsub("…","",job107$`研究所-薪資`)
jobJoin<-full_join(job104,job107,c("大職業別"))
```

### 107年度薪資較104年度薪資高的職業有哪些?

``` r
#這是R Code Chunk
jobJoin$`大學-薪資.y`<-as.numeric(jobJoin$`大學-薪資.y`)
jobJoin$`大學-薪資.x`<-as.numeric(jobJoin$`大學-薪資.x`)
jobRaise<-filter(jobJoin,jobJoin$`大學-薪資.y`>jobJoin$`大學-薪資.x`)
jobRaise<-mutate(jobRaise,Ratio=jobRaise$`大學-薪資.y`/jobRaise$`大學-薪資.x`)
jobRaise<-arrange(jobRaise,desc(Ratio))
knitr::kable(head(jobRaise[,c("大職業別","Ratio")],10))
```

| 大職業別                  |    Ratio |
| :-------------------- | -------: |
| 專業、科學及技術服務業-服務及銷售工作人員 | 1.158908 |
| 教育服務業-服務及銷售工作人員       | 1.132338 |
| 不動產業-技術員及助理專業人員       | 1.130807 |
| 住宿及餐飲業-服務及銷售工作人員      | 1.108842 |
| 藝術、娛樂及休閒服務業-事務支援人員    | 1.097632 |
| 金融及保險業-技藝、機械設備操作及組裝人員 | 1.097194 |
| 教育服務業                 | 1.096177 |
| 教育服務業-事務支援人員          | 1.095800 |
| 用水供應及污染整治業-專業人員       | 1.086330 |
| 教育服務業-專業人員            | 1.086267 |

### 提高超過5%的的職業有哪些?

``` r
#這是R Code Chunk
fivePercent <-filter(jobRaise,Ratio>1.05)
knitr::kable(fivePercent[,c("大職業別","Ratio")])
```

| 大職業別                       |    Ratio |
| :------------------------- | -------: |
| 專業、科學及技術服務業-服務及銷售工作人員      | 1.158908 |
| 教育服務業-服務及銷售工作人員            | 1.132338 |
| 不動產業-技術員及助理專業人員            | 1.130807 |
| 住宿及餐飲業-服務及銷售工作人員           | 1.108842 |
| 藝術、娛樂及休閒服務業-事務支援人員         | 1.097632 |
| 金融及保險業-技藝、機械設備操作及組裝人員      | 1.097194 |
| 教育服務業                      | 1.096177 |
| 教育服務業-事務支援人員               | 1.095800 |
| 用水供應及污染整治業-專業人員            | 1.086330 |
| 教育服務業-專業人員                 | 1.086267 |
| 資訊及通訊傳播業-專業人員              | 1.082141 |
| 住宿及餐飲業                     | 1.081297 |
| 用水供應及污染整治業-技藝、機械設備操作及組裝人員  | 1.072507 |
| 營建工程-服務及銷售工作人員             | 1.071877 |
| 電力及燃氣供應業-技藝、機械設備操作及組裝人員    | 1.071044 |
| 住宿及餐飲業-事務支援人員              | 1.070685 |
| 運輸及倉儲業-技術員及助理專業人員          | 1.070003 |
| 服務業-服務及銷售工作人員              | 1.069120 |
| 金融及保險業-技術員及助理專業人員          | 1.069093 |
| 金融及保險業-服務及銷售工作人員           | 1.068089 |
| 資訊及通訊傳播業-事務支援人員            | 1.067475 |
| 工業及服務業-服務及銷售工作人員           | 1.066587 |
| 不動產業                       | 1.066421 |
| 運輸及倉儲業-技藝、機械設備操作及組裝人員      | 1.065723 |
| 不動產業-技藝、機械設備操作及組裝人員        | 1.063403 |
| 住宿及餐飲業-技藝、機械設備操作及組裝人員      | 1.062300 |
| 不動產業-服務及銷售工作人員             | 1.062117 |
| 支援服務業-服務及銷售工作人員            | 1.060903 |
| 營建工程-專業人員                  | 1.060715 |
| 資訊及通訊傳播業                   | 1.060594 |
| 運輸及倉儲業-事務支援人員              | 1.060240 |
| 藝術、娛樂及休閒服務業                | 1.059809 |
| 醫療保健服務業-服務及銷售工作人員          | 1.057476 |
| 其他服務業-服務及銷售工作人員            | 1.056991 |
| 營建工程-事務支援人員                | 1.056960 |
| 藝術、娛樂及休閒服務業-專業人員           | 1.056577 |
| 運輸及倉儲業                     | 1.056260 |
| 藝術、娛樂及休閒服務業-技藝、機械設備操作及組裝人員 | 1.055985 |
| 製造業-技術員及助理專業人員             | 1.055015 |
| 運輸及倉儲業-服務及銷售工作人員           | 1.054221 |
| 金融及保險業                     | 1.053951 |
| 工業-技術員及助理專業人員              | 1.053411 |
| 不動產業-事務支援人員                | 1.053410 |
| 金融及保險業-專業人員                | 1.052928 |
| 批發及零售業-服務及銷售工作人員           | 1.052818 |
| 製造業-專業人員                   | 1.052507 |
| 資訊及通訊傳播業-服務及銷售工作人員         | 1.052499 |
| 資訊及通訊傳播業-技術員及助理專業人員        | 1.052421 |
| 工業-專業人員                    | 1.052347 |
| 用水供應及污染整治業                 | 1.051960 |
| 藝術、娛樂及休閒服務業-技術員及助理專業人員     | 1.051427 |
| 營建工程                       | 1.050670 |
| 工業-技藝、機械設備操作及組裝人員          | 1.050328 |

### 107年度薪資較104年度薪資高的職業

提高比率前10名中，最高為成長幅度10%的專業、科學及技術服務業，其中教育服務業又占了4個名次，顯示107年相較於104年在教育市場需求上有顯著的成長

### 主要的職業種別是哪些種類呢?

``` r
#這是R Code Chunk
fivePercent$大職業別<-gsub("-+[\u4e00-\u9fa5]*","",fivePercent$大職業別)
table(fivePercent$大職業別)
```

    ## 
    ##                                           工業 
    ##                                              2 
    ##                   工業、機械設備操作及組裝人員 
    ##                                              1 
    ##                                   工業及服務業 
    ##                                              1 
    ##                                       不動產業 
    ##                                              4 
    ##               不動產業、機械設備操作及組裝人員 
    ##                                              1 
    ##                                     支援服務業 
    ##                                              1 
    ##                           用水供應及污染整治業 
    ##                                              2 
    ##   用水供應及污染整治業、機械設備操作及組裝人員 
    ##                                              1 
    ##                                   住宿及餐飲業 
    ##                                              3 
    ##           住宿及餐飲業、機械設備操作及組裝人員 
    ##                                              1 
    ##                                   批發及零售業 
    ##                                              1 
    ##                                     其他服務業 
    ##                                              1 
    ##                                         服務業 
    ##                                              1 
    ##                                   金融及保險業 
    ##                                              4 
    ##           金融及保險業、機械設備操作及組裝人員 
    ##                                              1 
    ##                         專業、科學及技術服務業 
    ##                                              1 
    ##                                     教育服務業 
    ##                                              4 
    ##                               資訊及通訊傳播業 
    ##                                              5 
    ##                                   運輸及倉儲業 
    ##                                              4 
    ##           運輸及倉儲業、機械設備操作及組裝人員 
    ##                                              1 
    ##       電力及燃氣供應業、機械設備操作及組裝人員 
    ##                                              1 
    ##                                         製造業 
    ##                                              2 
    ##                                       營建工程 
    ##                                              4 
    ##                                 醫療保健服務業 
    ##                                              1 
    ##                         藝術、娛樂及休閒服務業 
    ##                                              4 
    ## 藝術、娛樂及休閒服務業、機械設備操作及組裝人員 
    ##                                              1

## 男女同工不同酬現況分析

男女同工不同酬一直是性別平等中很重要的問題，分析資料來源為103到106年度的大學畢業薪資。

### 104和107年度的大學畢業薪資資料，哪些行業男生薪資比女生薪資多?

``` r
#這是R Code Chunk
job104$`大學-女/男`<-as.numeric(job104$`大學-女/男`) 
job107$`大學-女/男`<-as.numeric(job107$`大學-女/男`)
gender104<-filter(job104,`大學-女/男`>0)
gender107<-filter(job107,`大學-女/男`>0)

#104年男生薪資比女生薪資多的職業
knitr::kable(head(gender104[order(gender104$`大學-女/男`,decreasing=F),
                            c("大職業別","大學-女/男")],10))
```

| 大職業別                      | 大學-女/男 |
| :------------------------ | :----: |
| 電力及燃氣供應業-技藝、機械設備操作及組裝人員   | 91.69  |
| 教育服務業-服務及銷售工作人員           | 91.90  |
| 礦業及土石採取業-技術員及助理專業人員       | 92.42  |
| 礦業及土石採取業-技藝、機械設備操作及組裝人員   | 93.10  |
| 礦業及土石採取業                  | 95.28  |
| 其他服務業-事務支援人員              | 95.47  |
| 營建工程-技藝、機械設備操作及組裝人員       | 95.64  |
| 用水供應及污染整治業-技藝、機械設備操作及組裝人員 | 95.90  |
| 營建工程                      | 96.35  |
| 教育服務業                     | 96.44  |

``` r
#107年男生薪資比女生薪資多的職業
knitr::kable(head(gender107[order(gender107$`大學-女/男`,decreasing=F),
                            c("大職業別","大學-女/男")],10))
```

| 大職業別                 | 大學-女/男 |
| :------------------- | :----: |
| 礦業及土石採取業-專業人員        | 96.02  |
| 電力及燃氣供應業-事務支援人員      | 96.96  |
| 礦業及土石採取業             | 97.11  |
| 營建工程                 | 97.52  |
| 教育服務業-事務支援人員         | 97.61  |
| 電力及燃氣供應業-服務及銷售工作人員   | 97.73  |
| 營建工程-技術員及助理專業人員      | 97.78  |
| 用水供應及污染整治業-專業人員      | 97.81  |
| 用水供應及污染整治業-服務及銷售工作人員 | 97.94  |
| 電力及燃氣供應業-專業人員        | 98.23  |

### 哪些行業女生薪資比男生薪資多?

``` r
#這是R Code Chunk
#104年女生薪資比男生薪資多的職業
gender104<-filter(gender104,`大學-女/男`>100)
knitr::kable(head(gender104[order(gender104$`大學-女/男`,decreasing=T),
                            c("大職業別","大學-女/男")],10))
```

| 大職業別                       | 大學-女/男 |
| :------------------------- | :----: |
| 專業、科學及技術服務業-技藝、機械設備操作及組裝人員 | 100.26 |

``` r
#107年女生薪資比男生薪資多的職業
gender107<-filter(gender107,`大學-女/男`>100)
knitr::kable(head(gender107[order(gender107$`大學-女/男`,decreasing=T),
                            c("大職業別","大學-女/男")],10))
```

| 大職業別 | 大學-女/男 |
| :--- | -----: |

### 男女同工不同酬

從104年和107年男生資比女生薪資高的比例可以看出男女薪資差異有減少的趨勢

## 研究所薪資差異

以107年度的資料來看，哪個職業別念研究所最划算呢 (研究所學歷薪資與大學學歷薪資增加比例最多)?

``` r
#這是R Code Chunk
job107$`大學-薪資`<-as.numeric(job107$`大學-薪資`)
job107$`研究所-薪資`<-as.numeric(job107$`研究所-薪資`)
job107<-mutate(job107,Institute=job107$`研究所-薪資`/job107$`大學-薪資`)
knitr::kable(head(job107[order(job107$Institute,decreasing=T),
                         c("大職業別","Institute")],10))
```

| 大職業別             | Institute |
| :--------------- | --------: |
| 其他服務業            |  1.237694 |
| 專業、科學及技術服務業      |  1.205362 |
| 專業、科學及技術服務業-專業人員 |  1.204652 |
| 教育服務業-事務支援人員     |  1.189864 |
| 資訊及通訊傳播業         |  1.183921 |
| 其他服務業-事務支援人員     |  1.180548 |
| 資訊及通訊傳播業-專業人員    |  1.179958 |
| 製造業              |  1.178580 |
| 工業               |  1.174801 |
| 工業及服務業           |  1.174391 |

### 哪個職業別念研究所最划算

前十名讀研究所對於薪資成長幅度較高的職業中以服務業及工業占了大多數，選擇就讀此類研究所對於薪資提高有很大的幫助

## 我有興趣的職業別薪資狀況分析

### 有興趣的職業別篩選，呈現薪資

我有興趣的職業別: 1.資訊及通訊傳播業 2.專業、科學及技術服務業 3.藝術、娛樂及休閒服務業

``` r
#這是R Code Chunk
favorite<-job107[c("78","99","127"),c("大職業別","大學-薪資","研究所-薪資")]
knitr::kable(favorite)
```

| 大職業別        | 大學-薪資 | 研究所-薪資 |
| :---------- | :---: | :----: |
| 資訊及通訊傳播業    | 29143 | 34503  |
| 專業、科學及技術服務業 | 29353 | 35381  |
| 藝術、娛樂及休閒服務業 | 27147 | 29780  |

### 研究所薪資與大學薪資差多少呢?

``` r
#這是R Code Chunk
favorite<-mutate(favorite,Raise=favorite$`研究所-薪資`-favorite$`大學-薪資`)
knitr::kable(favorite)
```

| 大職業別        | 大學-薪資 | 研究所-薪資 | Raise |
| :---------- | :---: | :----: | ----: |
| 資訊及通訊傳播業    | 29143 | 34503  |  5360 |
| 專業、科學及技術服務業 | 29353 | 35381  |  6028 |
| 藝術、娛樂及休閒服務業 | 27147 | 29780  |  2633 |

### 這些職業別薪資與妳想像中的一樣嗎?

大致上的差距都在我的預料之內，資訊及通訊傳播業及專業、科學及技術服務業的差距有 5000左右，藝術、娛樂及休閒服務業的差別則比較小

### 會因為這樣改變心意，決定念/不念研究所嗎?

本來就對於是否要讀研究所沒法下定決心，但是就這份資料而言讀研究所的幫助其實不太大，或許畢業後會直接考慮就業吧
